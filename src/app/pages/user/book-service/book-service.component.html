<div class="container mt-4">
  <h2>Book Service</h2>

  <div class="mb-3">
    <label class="form-label">Select date</label>
    <input type="date" class="form-control" [(ngModel)]="date">
  </div>

  <button class="btn btn-primary" (click)="checkAvailability()" [disabled]="!date || checking">Check availability</button>

  <div class="mt-3" *ngIf="checking">
    <div class="spinner-border" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>

  <div class="mt-3" *ngIf="!checking && availableSlots.length > 0">
    <h5>Available slots</h5>
    <div class="d-flex flex-wrap gap-2">
      <button type="button"
              class="btn"
              [ngClass]="{ 'btn-outline-secondary': selectedSlot !== slot, 'btn-secondary': selectedSlot === slot }"
              *ngFor="let slot of availableSlots"
              (click)="selectSlot(slot)">
        {{ slot }}
      </button>
    </div>

    <div class="mt-3">
      <button class="btn btn-success" (click)="confirmBooking()" [disabled]="!selectedSlot || loading">
        Confirm booking
      </button>
    </div>
  </div>

  <p class="text-danger mt-3" *ngIf="error">{{ error }}</p>
</div>


